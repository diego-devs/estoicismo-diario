<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estoicismo Diario â€” Reflexiones</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESET & BASE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0b;
            --bg-secondary: #111113;
            --bg-card: #16161a;
            --bg-card-hover: #1c1c21;
            --bg-accent: #1a1a1f;
            --text-primary: #e8e6e3;
            --text-secondary: #9a9a9a;
            --text-muted: #5a5a5a;
            --accent: #c9a96e;
            --accent-dim: #a08550;
            --accent-glow: rgba(201, 169, 110, 0.15);
            --border: #222228;
            --border-light: #2a2a32;
            --serif: 'Cormorant Garamond', Georgia, serif;
            --sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --radius: 8px;
            --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--sans);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCROLLBAR
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HEADER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .site-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(10, 10, 11, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 0 1.5rem;
        }

        .header-inner {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
        }

        .logo {
            font-family: var(--serif);
            font-size: 1.35rem;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: 0.02em;
            text-decoration: none;
            cursor: pointer;
        }

        .logo span {
            color: var(--accent);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SEARCH
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .search-wrapper {
            position: relative;
        }

        .search-toggle {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-toggle:hover {
            color: var(--text-primary);
            background: var(--bg-card);
        }

        .search-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 200;
            display: none;
            align-items: flex-start;
            justify-content: center;
            padding-top: 15vh;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .search-overlay.active {
            display: flex;
            opacity: 1;
        }

        .search-box {
            width: 90%;
            max-width: 560px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transform: translateY(-10px);
            animation: searchSlideIn 0.25s ease forwards;
        }

        @keyframes searchSlideIn {
            to { transform: translateY(0); }
        }

        .search-input-wrapper {
            display: flex;
            align-items: center;
            padding: 0 1.25rem;
            border-bottom: 1px solid var(--border);
        }

        .search-input-wrapper svg {
            color: var(--text-muted);
            flex-shrink: 0;
        }

        .search-input {
            width: 100%;
            padding: 1rem 0.75rem;
            background: none;
            border: none;
            color: var(--text-primary);
            font-family: var(--sans);
            font-size: 1rem;
            outline: none;
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        .search-results {
            max-height: 50vh;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .search-result-item {
            padding: 0.75rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .search-result-item:hover {
            background: var(--bg-card);
        }

        .search-result-item .result-title {
            font-weight: 500;
            font-size: 0.95rem;
            color: var(--text-primary);
        }

        .search-result-item .result-meta {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .search-empty {
            padding: 2rem 1rem;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HERO
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .hero {
            text-align: center;
            padding: 4rem 1.5rem 3rem;
            max-width: 700px;
            margin: 0 auto;
        }

        .hero-subtitle {
            font-family: var(--sans);
            font-size: 0.7rem;
            font-weight: 500;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 1.25rem;
        }

        .hero h1 {
            font-family: var(--serif);
            font-size: clamp(2.2rem, 5vw, 3.2rem);
            font-weight: 400;
            line-height: 1.2;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .hero-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.7;
            max-width: 500px;
            margin: 0 auto;
        }

        .hero-divider {
            width: 40px;
            height: 1px;
            background: var(--accent);
            margin: 2rem auto 0;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MONTH NAVIGATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .month-nav {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .month-btn {
            font-family: var(--sans);
            font-size: 0.8rem;
            font-weight: 500;
            letter-spacing: 0.05em;
            padding: 0.5rem 1.25rem;
            background: var(--bg-card);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            border-radius: 100px;
            cursor: pointer;
            transition: var(--transition);
        }

        .month-btn:hover {
            border-color: var(--accent-dim);
            color: var(--text-primary);
        }

        .month-btn.active {
            background: var(--accent);
            color: var(--bg-primary);
            border-color: var(--accent);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ARTICLE LIST
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .articles-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 1.5rem 4rem;
        }

        .articles-count {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            padding-left: 0.25rem;
        }

        .article-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            margin-bottom: 0.75rem;
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
            opacity: 0;
            transform: translateY(15px);
        }

        .article-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .article-card:hover {
            border-color: var(--border-light);
            background: var(--bg-card-hover);
        }

        .article-header {
            display: flex;
            align-items: center;
            padding: 1.25rem 1.5rem;
            gap: 1rem;
        }

        .article-date-badge {
            flex-shrink: 0;
            width: 52px;
            height: 52px;
            border-radius: 8px;
            background: var(--bg-accent);
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .article-card:hover .article-date-badge {
            border-color: var(--accent-dim);
            background: var(--accent-glow);
        }

        .article-date-badge .day-num {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1;
        }

        .article-date-badge .month-abbr {
            font-size: 0.6rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--accent);
            margin-top: 2px;
        }

        .article-info {
            flex: 1;
            min-width: 0;
        }

        .article-title {
            font-family: var(--serif);
            font-size: 1.25rem;
            font-weight: 500;
            color: var(--text-primary);
            line-height: 1.3;
            margin-bottom: 0.2rem;
        }

        .article-author {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .article-author strong {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .article-expand-icon {
            flex-shrink: 0;
            color: var(--text-muted);
            transition: var(--transition);
        }

        .article-card.expanded .article-expand-icon {
            transform: rotate(180deg);
            color: var(--accent);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ARTICLE CONTENT (EXPANDED)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .article-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .article-card.expanded .article-content {
            max-height: 800px;
        }

        .article-content-inner {
            padding: 0 1.5rem 1.5rem;
            border-top: 1px solid var(--border);
            margin-top: 0;
            padding-top: 1.5rem;
        }

        .quote-block {
            position: relative;
            padding: 1.5rem 1.5rem 1.5rem 2rem;
            margin-bottom: 1.5rem;
            background: var(--bg-accent);
            border-radius: var(--radius);
            border-left: 3px solid var(--accent);
        }

        .quote-text {
            font-family: var(--serif);
            font-size: 1.15rem;
            font-weight: 400;
            font-style: italic;
            line-height: 1.7;
            color: var(--text-primary);
        }

        .quote-attribution {
            margin-top: 0.75rem;
            font-family: var(--sans);
            font-size: 0.8rem;
            color: var(--accent);
        }

        .quote-source {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-style: italic;
        }

        .reflection-text {
            font-size: 0.95rem;
            line-height: 1.8;
            color: var(--text-secondary);
        }

        .article-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.4rem;
            margin-top: 1.25rem;
        }

        .tag {
            font-size: 0.7rem;
            font-weight: 500;
            letter-spacing: 0.03em;
            padding: 0.25rem 0.65rem;
            background: var(--bg-primary);
            color: var(--text-muted);
            border: 1px solid var(--border);
            border-radius: 100px;
            transition: var(--transition);
        }

        .tag:hover {
            border-color: var(--accent-dim);
            color: var(--accent);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SUBSCRIBE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .subscribe-section {
            max-width: 900px;
            margin: 0 auto 2rem;
            padding: 0 1.5rem;
        }

        .subscribe-inner {
            text-align: center;
            padding: 3rem 2rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
        }

        .subscribe-label {
            font-size: 0.7rem;
            font-weight: 500;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 0.75rem;
        }

        .subscribe-title {
            font-family: var(--serif);
            font-size: 1.6rem;
            font-weight: 400;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .subscribe-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .subscribe-btn {
            display: inline-block;
            padding: 0.85rem 2.5rem;
            background: var(--accent);
            color: var(--bg-primary);
            text-decoration: none;
            border-radius: 100px;
            font-family: var(--sans);
            font-size: 0.9rem;
            font-weight: 600;
            transition: var(--transition);
            margin-bottom: 1rem;
        }

        .subscribe-btn:hover {
            background: var(--accent-dim);
            transform: translateY(-1px);
        }

        .subscribe-note {
            font-size: 0.75rem;
            color: var(--text-muted);
            max-width: 450px;
            margin: 0 auto;
        }

        .subscribe-note strong {
            color: var(--text-secondary);
        }

        .subscribe-copy-btn {
            display: inline-block;
            padding: 0.65rem 1.75rem;
            background: transparent;
            color: var(--accent);
            border: 1px solid var(--accent-dim);
            border-radius: 100px;
            font-family: var(--sans);
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 1.25rem;
            margin-left: 0.5rem;
        }

        .subscribe-copy-btn:hover {
            background: var(--accent-glow);
            border-color: var(--accent);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FOOTER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .site-footer {
            text-align: center;
            padding: 2rem 1.5rem;
            border-top: 1px solid var(--border);
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        .site-footer .footer-quote {
            font-family: var(--serif);
            font-style: italic;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LOADING
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-muted);
        }

        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCROLL TO TOP
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .scroll-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 40px;
            height: 40px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transform: translateY(10px);
            transition: var(--transition);
            z-index: 50;
            color: var(--text-secondary);
        }

        .scroll-top.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .scroll-top:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 600px) {
            .hero {
                padding: 3rem 1.25rem 2rem;
            }

            .article-header {
                padding: 1rem 1.15rem;
            }

            .article-date-badge {
                width: 44px;
                height: 44px;
            }

            .article-date-badge .day-num {
                font-size: 1.05rem;
            }

            .article-title {
                font-size: 1.1rem;
            }

            .article-content-inner {
                padding: 0 1.15rem 1.25rem;
                padding-top: 1.25rem;
            }

            .quote-block {
                padding: 1.15rem 1.15rem 1.15rem 1.5rem;
            }

            .quote-text {
                font-size: 1.05rem;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ANIMATIONS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>

    <!-- HEADER -->
    <header class="site-header">
        <div class="header-inner">
            <a class="logo" onclick="resetView()">Estoicismo <span>Diario</span></a>
            <div class="header-actions">
                <button class="search-toggle" onclick="openSearch()" aria-label="Buscar">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- SEARCH OVERLAY -->
    <div class="search-overlay" id="searchOverlay" onclick="closeSearchOnBackdrop(event)">
        <div class="search-box">
            <div class="search-input-wrapper">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                </svg>
                <input type="text" class="search-input" id="searchInput" placeholder="Buscar reflexiones, autores, temas..." autocomplete="off" oninput="performSearch(this.value)">
            </div>
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <!-- HERO -->
    <section class="hero">
        <p class="hero-subtitle">Basado en The Daily Stoic de Ryan Holiday</p>
        <h1>Reflexiones Estoicas para Cada DÃ­a</h1>
        <p class="hero-description">Una meditaciÃ³n diaria de los grandes filÃ³sofos estoicos â€” Marco Aurelio, SÃ©neca y Epicteto â€” para cultivar sabidurÃ­a, resiliencia y virtud.</p>
        <div class="hero-divider"></div>
    </section>

    <!-- MONTH NAV -->
    <nav class="month-nav" id="monthNav"></nav>

    <!-- ARTICLES -->
    <main class="articles-container">
        <p class="articles-count" id="articlesCount"></p>
        <div id="articlesList">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Cargando reflexiones...</p>
            </div>
        </div>
    </main>

    <!-- SUBSCRIBE -->
    <section class="subscribe-section" id="subscribe">
        <div class="subscribe-inner">
            <p class="subscribe-label">Newsletter</p>
            <h2 class="subscribe-title">Recibe la reflexiÃ³n diaria en tu correo</h2>
            <p class="subscribe-desc">Cada maÃ±ana, una meditaciÃ³n estoica directo a tu bandeja de entrada. Sin spam, solo sabidurÃ­a.</p>
            <a href="mailto:david.asistente.ai@gmail.com?subject=SUSCRIBIR&body=Quiero%20recibir%20la%20reflexiÃ³n%20estoica%20diaria." class="subscribe-btn">
                âœ‰ï¸ Suscribirme por correo
            </a>
            <button class="subscribe-copy-btn" onclick="copyEmail(this)">ğŸ“‹ Copiar direcciÃ³n de correo</button>
            <p class="subscribe-note">EnvÃ­a un correo con asunto <strong>"SUSCRIBIR"</strong> a <strong>david.asistente.ai@gmail.com</strong> y recibirÃ¡s la reflexiÃ³n cada maÃ±ana. Para cancelar, envÃ­a <strong>"CANCELAR"</strong>.</p>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="site-footer">
        <p class="footer-quote">Â«No es que tengamos poco tiempo, sino que perdemos mucho.Â» â€” SÃ©neca</p>
        <p>Estoicismo Diario â€” Basado en The Daily Stoic de Ryan Holiday</p>
    </footer>

    <!-- SCROLL TO TOP -->
    <button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m18 15-6-6-6 6"/>
        </svg>
    </button>

    <script>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       STATE
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    const BASE_URL = 'articles';
    let allArticles = [];
    let articleIndex = [];
    let activeMonth = 'all';
    let expandedCard = null;

    const MONTHS_ES = {
        1: 'Enero', 2: 'Febrero', 3: 'Marzo', 4: 'Abril',
        5: 'Mayo', 6: 'Junio', 7: 'Julio', 8: 'Agosto',
        9: 'Septiembre', 10: 'Octubre', 11: 'Noviembre', 12: 'Diciembre'
    };

    const MONTHS_ABBR = {
        1: 'Ene', 2: 'Feb', 3: 'Mar', 4: 'Abr',
        5: 'May', 6: 'Jun', 7: 'Jul', 8: 'Ago',
        9: 'Sep', 10: 'Oct', 11: 'Nov', 12: 'Dic'
    };

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       INIT
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    async function init() {
        try {
            const res = await fetch(`${BASE_URL}/index.json`);
            articleIndex = await res.json();
            // Sort newest first
            articleIndex.sort((a, b) => b.date.localeCompare(a.date));
            buildMonthNav();
            renderArticles(articleIndex);
        } catch (err) {
            document.getElementById('articlesList').innerHTML =
                `<div class="loading"><p>Error al cargar los artÃ­culos. Verifica que los archivos JSON estÃ©n disponibles.</p></div>`;
            console.error(err);
        }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MONTH NAV
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function buildMonthNav() {
        const months = [...new Set(articleIndex.map(a => a.month))].sort((a, b) => a - b);
        const nav = document.getElementById('monthNav');

        let html = `<button class="month-btn active" onclick="filterMonth('all', this)">Todos</button>`;
        months.forEach(m => {
            html += `<button class="month-btn" onclick="filterMonth(${m}, this)">${MONTHS_ES[m]}</button>`;
        });
        nav.innerHTML = html;
    }

    function filterMonth(month, btn) {
        activeMonth = month;
        document.querySelectorAll('.month-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const filtered = month === 'all'
            ? articleIndex
            : articleIndex.filter(a => a.month === month);

        renderArticles(filtered);
        window.scrollTo({ top: document.querySelector('.month-nav').offsetTop - 80, behavior: 'smooth' });
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RENDER ARTICLES
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function renderArticles(articles) {
        const container = document.getElementById('articlesList');
        const count = document.getElementById('articlesCount');

        count.textContent = `${articles.length} reflexion${articles.length !== 1 ? 'es' : ''}`;

        if (articles.length === 0) {
            container.innerHTML = `<div class="loading"><p>No se encontraron artÃ­culos.</p></div>`;
            return;
        }

        let html = '';
        articles.forEach((article, i) => {
            html += `
                <div class="article-card" data-date="${article.date}" style="transition-delay: ${Math.min(i * 40, 400)}ms" onclick="toggleArticle(this, '${article.date}')">
                    <div class="article-header">
                        <div class="article-date-badge">
                            <span class="day-num">${article.day}</span>
                            <span class="month-abbr">${MONTHS_ABBR[article.month]}</span>
                        </div>
                        <div class="article-info">
                            <h2 class="article-title">${article.title}</h2>
                            <p class="article-author"><strong>${article.author}</strong></p>
                        </div>
                        <div class="article-expand-icon">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m6 9 6 6 6-6"/>
                            </svg>
                        </div>
                    </div>
                    <div class="article-content">
                        <div class="article-content-inner" id="content-${article.date}">
                            <div class="loading">
                                <div class="loading-spinner"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        });

        container.innerHTML = html;

        // Stagger animation on scroll
        requestAnimationFrame(() => {
            observeCards();
        });
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       INTERSECTION OBSERVER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function observeCards() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.05, rootMargin: '0px 0px -30px 0px' });

        document.querySelectorAll('.article-card').forEach(card => {
            observer.observe(card);
        });
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TOGGLE / EXPAND ARTICLE
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    async function toggleArticle(card, date) {
        const wasExpanded = card.classList.contains('expanded');

        // Close all other expanded cards
        document.querySelectorAll('.article-card.expanded').forEach(c => {
            c.classList.remove('expanded');
        });

        if (wasExpanded) return;

        card.classList.add('expanded');

        // Load content if not loaded
        const contentDiv = document.getElementById(`content-${date}`);
        if (contentDiv.querySelector('.loading')) {
            try {
                const res = await fetch(`${BASE_URL}/${date}.json`);
                const data = await res.json();

                let tagsHtml = '';
                if (data.tags && data.tags.length) {
                    tagsHtml = `<div class="article-tags">${data.tags.map(t => `<span class="tag">#${t}</span>`).join('')}</div>`;
                }

                contentDiv.innerHTML = `
                    <div class="quote-block">
                        <p class="quote-text">${data.quote}</p>
                        <p class="quote-attribution">â€” ${data.author}</p>
                        <p class="quote-source">${data.source}</p>
                    </div>
                    <p class="reflection-text">${data.reflection}</p>
                    ${tagsHtml}
                `;
            } catch (err) {
                contentDiv.innerHTML = `<p class="reflection-text" style="color: var(--text-muted);">Error al cargar el artÃ­culo.</p>`;
                console.error(err);
            }
        }

        // Scroll to card
        setTimeout(() => {
            card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SEARCH
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function openSearch() {
        const overlay = document.getElementById('searchOverlay');
        overlay.classList.add('active');
        setTimeout(() => document.getElementById('searchInput').focus(), 100);
    }

    function closeSearch() {
        const overlay = document.getElementById('searchOverlay');
        overlay.classList.remove('active');
        document.getElementById('searchInput').value = '';
        document.getElementById('searchResults').innerHTML = '';
    }

    function closeSearchOnBackdrop(e) {
        if (e.target === e.currentTarget) closeSearch();
    }

    function performSearch(query) {
        const results = document.getElementById('searchResults');
        const q = query.toLowerCase().trim();

        if (q.length < 2) {
            results.innerHTML = '';
            return;
        }

        const matches = articleIndex.filter(a =>
            a.title.toLowerCase().includes(q) ||
            a.author.toLowerCase().includes(q) ||
            a.tags.some(t => t.toLowerCase().includes(q))
        );

        if (matches.length === 0) {
            results.innerHTML = `<div class="search-empty">No se encontraron resultados para Â«${query}Â»</div>`;
            return;
        }

        results.innerHTML = matches.map(a => `
            <div class="search-result-item" onclick="goToArticle('${a.date}')">
                <div class="result-title">${a.title}</div>
                <div class="result-meta">${a.day} de ${MONTHS_ES[a.month]} Â· ${a.author}</div>
            </div>
        `).join('');
    }

    function goToArticle(date) {
        closeSearch();
        // Reset filter to all
        activeMonth = 'all';
        document.querySelectorAll('.month-btn').forEach((b, i) => {
            b.classList.toggle('active', i === 0);
        });
        renderArticles(articleIndex);

        setTimeout(() => {
            const card = document.querySelector(`[data-date="${date}"]`);
            if (card) {
                card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                setTimeout(() => toggleArticle(card, date), 400);
            }
        }, 100);
    }

    function resetView() {
        activeMonth = 'all';
        document.querySelectorAll('.month-btn').forEach((b, i) => {
            b.classList.toggle('active', i === 0);
        });
        renderArticles(articleIndex);
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCROLL TO TOP BUTTON
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    window.addEventListener('scroll', () => {
        const btn = document.getElementById('scrollTop');
        btn.classList.toggle('visible', window.scrollY > 400);
    });

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       KEYBOARD SHORTCUTS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeSearch();
        if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
            e.preventDefault();
            openSearch();
        }
    });

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       COPY EMAIL
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function copyEmail(btn) {
        navigator.clipboard.writeText('david.asistente.ai@gmail.com').then(() => {
            const original = btn.textContent;
            btn.textContent = 'âœ… Â¡Copiado!';
            btn.style.borderColor = '#4ade80';
            btn.style.color = '#4ade80';
            setTimeout(() => {
                btn.textContent = original;
                btn.style.borderColor = '';
                btn.style.color = '';
            }, 2000);
        });
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BOOT
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    init();
    </script>

</body>
</html>
